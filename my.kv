WindowManager:
    PtcpWin:
    InstructWin:
    TestWin:

#PARENT TAG
<PtcpWin>:
    name: "PtcpID"

#objectproperty:id
    ptcpid: ptcpid

    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height/2

            Label:
                size_hint: 0.5,0.12
                pos_hint: {"x":0, "top":0.8}
                text: "Ptcp ID:"
                font_size: (root.width**2 + root.height**2) / 14**4

            TextInput:
                pos_hint: {"x":0.5, "top":0.8}
                size_hint: 0.4, 0.12
                font_size: (root.width**2 + root.height**2) / 14**4
                id: ptcpid
                multiline : False
                input_filter: "int"

        Button:
            pos_hint:{"x":0.3,"y":0.25}
            size_hint: 0.4, 0.1
            font_size: (root.width**2 + root.height**2) / 15**4
            text: "Next"
            on_press: root.btn()
            on_release:
                app.root.current = "Instructions"
                root.manager.transition.direction = "left"


<InstructWin>:
    name: "Instructions"

    FloatLayout:
        cols:1

        Label:
            size_hint: 0.5,0.12
            pos_hint: {"x":0.25, "top":0.8}
            text: "You have a message! Click below to open."

        FloatLayout:
            size: root.width, root.height/2

            Button:
                pos_hint:{"x":0.15,"y":0.25}
                size_hint: 0.35, 0.1
                font_size: (root.width**2 + root.height**2) / 15**4
                text: "Back"
                on_release:
                    app.root.current = "PtcpID"
                    root.manager.transition.direction = "right"

            Button:
                pos_hint:{"x":0.55,"y":0.25}
                size_hint: 0.35, 0.1
                font_size: (root.width**2 + root.height**2) / 15**4
                text: "Open Message"
                on_press: root.btn()


<TestWin>:
    name: "Test"

#objectproperty:id
    label_id: phrase_label

    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height/2

        Label:
            id: phrase_label
            text: ""
            size_hint: 0.5,0.12
            pos_hint: {"x":0.25, "top":0.8}
            font_size: (root.width**2 + root.height**2) / 15**4

        TextInput:
            id: phrase_input
            pos_hint: {"x":0.17, "top":0.65}
            size_hint: 0.7, 0.2
            font_size: (root.width**2 + root.height**2) / 17**4
            on_text: root.text(args[1])

        Button:
            pos_hint:{"x":0.6,"y":0.35}
            size_hint: 0.25, 0.08
            font_size: (root.width**2 + root.height**2) / 16**4
            text: "Send"
            on_press: root.btn()
            on_release:
                app.root.current = "Done"
                root.manager.transition.direction = "right"

        Button:
            text: "X"
            color_rectangle: "red"
            size_hint: 0.25, 0.08
            size_hint: 0.05, 0.05
            pos_hint:{'x': 0, 'center_y': 0.98}
            on_press: app.stop()

<LastWin>:
    name: "Done"

    FloatLayout:
        cols:1

        FloatLayout:
            size: root.width, root.height/2

        Label:
            text: "Done!"
            size_hint: 0.5,0.12
            pos_hint: {"x":0.25, "top":0.8}
            font_size: (root.width**2 + root.height**2) / 15**4

        Button:
            pos_hint:{"x":0.6,"y":0.35}
            size_hint: 0.25, 0.08
            font_size: (root.width**2 + root.height**2) / 16**4
            text: "Exit"
            on_press: app.stop()